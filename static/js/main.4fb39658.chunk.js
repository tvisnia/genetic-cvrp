(this["webpackJsonpgenetic-cvrp"]=this["webpackJsonpgenetic-cvrp"]||[]).push([[0],{27:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(0),o=n(6),d=n.n(o),c=n(7),r=n(73),u=n(77),l=(n(27),n(8)),s=[{id:0,latitude:50.062958,longitude:19.938377,demand:0,name:"Krak\xf3w"},{id:1,latitude:53.1276046,longitude:23.0858554,demand:500,name:"Bia\u0142ystok"},{id:2,latitude:49.8121789,longitude:18.9670518,demand:50,name:"Bielsko-Bia\u0142a"},{id:3,latitude:50.1287598,longitude:19.2884881,demand:400,name:"Chrzan\xf3w"},{id:4,latitude:54.3610059,longitude:18.5496047,demand:200,name:"Gda\u0144sk"},{id:5,latitude:54.5038045,longitude:18.3932687,demand:100,name:"Gdynia"},{id:6,latitude:50.3012185,longitude:18.3932687,demand:40,name:"Gliwice"},{id:7,latitude:49.8390228,longitude:20.9450616,demand:200,name:"Gromnik"},{id:8,latitude:50.2136512,longitude:18.9369822,demand:300,name:"Katowice"},{id:9,latitude:50.8540189,longitude:20.5454309,demand:30,name:"Kielce"},{id:10,latitude:49.6896495,longitude:21.7166586,demand:60,name:"Krosno"},{id:11,latitude:49.4154478,longitude:20.898955,demand:50,name:"Krynica"},{id:12,latitude:51.218088,longitude:22.4935597,demand:60,name:"Lublin"},{id:13,latitude:51.7730343,longitude:19.3401699,demand:160,name:"\u0141\xf3d\u017a"},{id:14,latitude:54.0286482,longitude:19.0084415,demand:100,name:"Malbork"},{id:15,latitude:49.4892464,longitude:19.9737208,demand:120,name:"Nowy Targ"},{id:16,latitude:53.7759903,longitude:20.3956593,demand:300,name:"Olsztyn"},{id:17,latitude:52.4004458,longitude:16.7615834,demand:100,name:"Pozna\u0144"},{id:18,latitude:51.4254995,longitude:21.9046281,demand:200,name:"Pu\u0142awy"},{id:19,latitude:51.4150447,longitude:21.0839343,demand:100,name:"Radom"},{id:20,latitude:50.0054089,longitude:21.9184153,demand:60,name:"Rzesz\xf3w"},{id:21,latitude:50.6780941,longitude:21.675572,demand:200,name:"Sandomierz"},{id:22,latitude:53.4296143,longitude:14.4845414,demand:150,name:"Szczecin"},{id:23,latitude:50.3096329,longitude:21.0617624,demand:60,name:"Szczucin"},{id:24,latitude:50.8142546,longitude:15.3965229,demand:50,name:"Szklarska Por\u0119ba"},{id:25,latitude:50.0261227,longitude:20.9068665,demand:70,name:"Tarn\xf3w"},{id:26,latitude:52.232855,longitude:20.9211117,demand:200,name:"Warszawa"},{id:27,latitude:49.9875567,longitude:20.0286001,demand:90,name:"Wieliczka"},{id:28,latitude:51.1269942,longitude:16.8517813,demand:40,name:"Wroc\u0142aw"},{id:29,latitude:49.27587,longitude:19.9036652,demand:200,name:"Zakopane"},{id:30,latitude:50.7213772,longitude:23.2134076,demand:300,name:"Zamo\u015b\u0107"}],m=1e3,f=[2,2,2,1,3,1,3,1,3,1,3,1,3,2,1,3,1,3,1,2,3,1,3,1,3],j=function(e){var t=e.map((function(e){return e.demand})).reduce((function(e,t){return e+t}));return{cost:t,isValid:t<=m}},h=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},g=function(e){return e.reduce((function(t,n,a){var i,o,d,c;return 0===a?(i=s[0],o=n):(o=n,i=e[a-1]),o&&i?t+(d=i,c=o,Math.round(111.196672*Math.sqrt(Math.pow(d.longitude-c.longitude,2)+Math.pow(d.latitude-c.latitude,2)))):t}),0)},b=function(e){return e.slice().map((function(e){return function(e){return Object.assign({},e)}(e)}))},v=function(e){return e.slice().map((function(e){return function(e){return e.slice().map((function(e){return b(e)}))}(e)}))},O=function(e){return e.reduce((function(e,t){return e+g(t)}),0)},p=function(e,t){return!!~e.findIndex((function(e){return e.id===t.id}))},z=function(e){var t=[[],[],[],[],[]],n=e.slice();t.forEach((function(e){var t=h(1,n.length);e.push(n[t]),n.splice(t,1)}));for(var a=function(){var e=h(1,n.length),a=n[e].demand,i=t.findIndex((function(e){return j(e).cost+a<=m}));~i&&(t[i].push(n[e]),n.splice(e,1))};n.length>1;)a();return t},y=function(e,t){var n,a,i=(n=e,a=s,Object(l.a)(Array(n)).map((function(){return z(a)})));i.sort((function(e,t){return O(e)-O(t)}));var o=v(i),d=O(i[0]),r=0,u=0;return console.log("Start: ".concat(i.map((function(e){return O(e)})))),Object(l.a)(Array(t)).forEach((function(e,t){(t+1)%1e4===0&&console.log("Powsta\u0142ych generacji: ".concat(t+1));var n=function(e){var t=e.length-1,n=Object(l.a)(Array(t+1)).map((function(e,t){return t})),a=n[h(0,t+1)];n.splice(a,1);var i=n[h(0,t)];return n.splice(i,1),[Object(l.a)(e[a]),Object(l.a)(e[i])]}(o),a=Object(c.a)(n,2),d=a[0],m=a[1],j=d[0][0],g=s.findIndex((function(e){return e.demand===j.demand&&e.id!==j.id}));if(~g){var b=s[g],z=d.findIndex((function(e){return p(e,b)})),y=m.findIndex((function(e){return p(e,b)})),w=m.findIndex((function(e){return p(e,j)})),x=d[z].findIndex((function(e){return e.id===b.id}));d[0][0]=b,d[z][x]=j;var S=m[y].findIndex((function(e){return e.id===b.id})),k=m[w].findIndex((function(e){return e.id===j.id}));m[w][k]=b,m[y][S]=j;var M=O(d),W=O(m),F=i.map((function(e){return O(e)}))[0],N=M===W?m:M<W?d:m;O(N)<F&&(i.splice(i.length-1,1),i.push(N),i.sort((function(e,t){return O(e)-O(t)})),r++,console.log("najlepsza jako\u015b\u0107 dotychczas: ".concat(i.map((function(e){return O(e)}))[0]))),o=v(i)}var I=h(0,f.length);if(f[I]%2===0){var A=h(0,o.length),E=o[A],B=O(E),C=E[h(0,E.length)],P=h(0,C.length),T=Math.abs(P-1),K=C[P],R=C[T];C[P]=R,C[T]=K,B>O(E)&&(u++,0===A&&(i[A]=E)),o=v(i),i.sort((function(e,t){return O(e)-O(t)}))}})),{bestStartQuality:d,bestEndQuality:O(i[0]),crossovers:r,mutations:u,solution:i[0]}},w=Object(r.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}));var x=function(){var e=w(),t=Object(i.useState)(50),n=Object(c.a)(t,2),o=n[0],d=n[1],r=Object(i.useState)(100),l=Object(c.a)(r,2),s=l[0],m=l[1],f=Object(i.useState)(0),h=Object(c.a)(f,2),g=h[0],b=h[1],v=Object(i.useState)(0),O=Object(c.a)(v,2),p=O[0],z=O[1],x=Object(i.useState)(0),S=Object(c.a)(x,2),k=S[0],M=S[1],W=Object(i.useState)(0),F=Object(c.a)(W,2),N=F[0],I=F[1],A=Object(i.useState)(!1),E=Object(c.a)(A,2),B=E[0],C=E[1],P=Object(i.useState)(!1),T=Object(c.a)(P,2),K=T[0],R=T[1],V=Object(i.useState)(!1),G=Object(c.a)(V,2),J=G[0],Q=G[1],L=Object(i.useState)(null),Z=Object(c.a)(L,2),q=Z[0],D=Z[1],U=function(){R(!K)},H=function(){Q(!J)};return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{children:"Zastosowanie algorytmu genetycznego do rozwi\u0105zania CVRP"}),Object(a.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(u.a,{defaultValue:o,onChange:function(e){var t=e.target.value;d(+t)},id:"filled-basic",label:"Rozmiar populacji",variant:"filled"}),Object(a.jsx)(u.a,{defaultValue:s,onChange:function(e){var t=e.target.value;m(+t)},id:"filled-basic",label:"Ilo\u015b\u0107 generacji",variant:"filled"})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("div",{onClick:function(){!B&&+s&&+o&&1!==+o&&(C(!0),setTimeout((function(){var e=y(o,s);C(!1);var t=e.bestStartQuality,n=e.bestEndQuality,a=e.mutations,i=e.crossovers,d=e.solution;M(t),I(n),z(a),b(i),D(d)}),100))},id:K&&!B?"shadow":void 0,onMouseEnter:U,onMouseLeave:U,className:B?"startButtonDisabled":"startButtonEnabled",children:"Start"}),Object(a.jsx)("div",{onClick:function(){B||(M(0),I(0),b(0),z(0),D(null))},id:J&&!B?"shadow":void 0,onMouseEnter:H,onMouseLeave:H,className:B?"resetButtonDisabled":"resetButtonEnabled",children:"Reset"})]}),(B||!!N)&&Object(a.jsxs)("div",{className:"results",children:[Object(a.jsxs)("div",{className:"parameters",children:[Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Jako\u015b\u0107 najlepszego rozwi\u0105zania populacji P0 : ".concat(k)}),B&&Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"..."}),!!N&&Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Jako\u015b\u0107 najlepszego rozwi\u0105zania ostatniej generacji : ".concat(N)}),!!q&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Najlepsze rozwi\u0105zanie :"}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 1 : [".concat(q[0].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(j(q[0]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 2 : [".concat(q[1].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(j(q[1]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 3 : [".concat(q[2].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(j(q[2]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 4 : [".concat(q[3].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(j(q[3]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 5 : [".concat(q[4].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(j(q[4]).cost)})]})]}),Object(a.jsx)("div",{className:"separator"}),Object(a.jsxs)("div",{className:"generations",children:[Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Udanych krzy\u017cowa\u0144 : ".concat(g)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Udanych mutacji : ".concat(p)})]})]})]})})};n(42);d.a.render(Object(a.jsx)(x,{}),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.4fb39658.chunk.js.map