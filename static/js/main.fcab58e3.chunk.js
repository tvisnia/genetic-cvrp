(this["webpackJsonpgenetic-cvrp"]=this["webpackJsonpgenetic-cvrp"]||[]).push([[0],{27:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var a=n(3),i=n(0),d=n(6),o=n.n(d),c=n(7),r=n(76),u=n(77),l=n(8),s=[{id:0,latitude:50.062958,longitude:19.938377,demand:0,name:"Krak\xf3w"},{id:1,latitude:53.1276046,longitude:23.0858554,demand:500,name:"Bia\u0142ystok"},{id:2,latitude:49.8121789,longitude:18.9670518,demand:50,name:"Bielsko-Bia\u0142a"},{id:3,latitude:50.1287598,longitude:19.2884881,demand:400,name:"Chrzan\xf3w"},{id:4,latitude:54.3610059,longitude:18.5496047,demand:200,name:"Gda\u0144sk"},{id:5,latitude:54.5038045,longitude:18.3932687,demand:100,name:"Gdynia"},{id:6,latitude:50.3012185,longitude:18.3932687,demand:40,name:"Gliwice"},{id:7,latitude:49.8390228,longitude:20.9450616,demand:200,name:"Gromnik"},{id:8,latitude:50.2136512,longitude:18.9369822,demand:300,name:"Katowice"},{id:9,latitude:50.8540189,longitude:20.5454309,demand:30,name:"Kielce"},{id:10,latitude:49.6896495,longitude:21.7166586,demand:60,name:"Krosno"},{id:11,latitude:49.4154478,longitude:20.898955,demand:50,name:"Krynica"},{id:12,latitude:51.218088,longitude:22.4935597,demand:60,name:"Lublin"},{id:13,latitude:51.7730343,longitude:19.3401699,demand:160,name:"\u0141\xf3d\u017a"},{id:14,latitude:54.0286482,longitude:19.0084415,demand:100,name:"Malbork"},{id:15,latitude:49.4892464,longitude:19.9737208,demand:120,name:"Nowy Targ"},{id:16,latitude:53.7759903,longitude:20.3956593,demand:300,name:"Olsztyn"},{id:17,latitude:52.4004458,longitude:16.7615834,demand:100,name:"Pozna\u0144"},{id:18,latitude:51.4254995,longitude:21.9046281,demand:200,name:"Pu\u0142awy"},{id:19,latitude:51.4150447,longitude:21.0839343,demand:100,name:"Radom"},{id:20,latitude:50.0054089,longitude:21.9184153,demand:60,name:"Rzesz\xf3w"},{id:21,latitude:50.6780941,longitude:21.675572,demand:200,name:"Sandomierz"},{id:22,latitude:53.4296143,longitude:14.4845414,demand:150,name:"Szczecin"},{id:23,latitude:50.3096329,longitude:21.0617624,demand:60,name:"Szczucin"},{id:24,latitude:50.8142546,longitude:15.3965229,demand:50,name:"Szklarska Por\u0119ba"},{id:25,latitude:50.0261227,longitude:20.9068665,demand:70,name:"Tarn\xf3w"},{id:26,latitude:52.232855,longitude:20.9211117,demand:200,name:"Warszawa"},{id:27,latitude:49.9875567,longitude:20.0286001,demand:90,name:"Wieliczka"},{id:28,latitude:51.1269942,longitude:16.8517813,demand:40,name:"Wroc\u0142aw"},{id:29,latitude:49.27587,longitude:19.9036652,demand:200,name:"Zakopane"},{id:30,latitude:50.7213772,longitude:23.2134076,demand:300,name:"Zamo\u015b\u0107"}],m=1e3,f=[2,2,2,1,3,1,3,1,3,1,3,1,3,2,1,3,1,3,1,2,3,1,3,1,3],j=function(t){var e=t.map((function(t){return t.demand})).reduce((function(t,e){return t+e}));return{cost:e,isValid:e<=m}},h=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},g=function(t,e){var n=function(t){return t*Math.PI/180},a=t.longitude,i=t.latitude,d=e.longitude,o=e.latitude,c=n(o-i),r=n(d-a),u=Math.sin(c/2)*Math.sin(c/2)+Math.cos(n(i))*Math.cos(n(o))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))},b=function(t){return t.slice().map((function(t){return function(t){return t.slice().map((function(t){return function(t){return t.slice()}(t)}))}(t)}))},v=function(t){return t.reduce((function(t,e){return t+function(t){var e=0,n=g(s[0],t[0]),a=g(s[0],t[t.length-1]);return t.forEach((function(n,a){a!==t.length-1&&(e+=g(n,t[a+1]))})),e+n+a}(e)}),0)},O=function(t,e){return v(t)-v(e)},p=function(t,e){return!!~t.findIndex((function(t){return t.id===e.id}))},x=function(t){var e=[[],[],[],[],[]],n=t.slice();e.forEach((function(t){var e=h(1,n.length);t.push(n[e]),n.splice(e,1)}));var a=function(){var t=h(1,n.length),a=n[t].demand;a||console.log(a,t);var i=e.findIndex((function(t){return j(t).cost+a<=m}));~i&&(e[i].push(n[t]),n.splice(t,1))};do{a()}while(n.length>1);return e},y=function(t,e){var n,a,i=(n=t,a=s,Object(l.a)(Array(n)).map((function(){return x(a)})));i.sort(O);var d=b(i),o=v(i[0]),r=0,u=0;Object(l.a)(Array(e)).forEach((function(t,e){var n=function(t){var e=t.slice(0,Math.round(t.length/2)).length-1,n=Object(l.a)(Array(e+1)).map((function(t,e){return e})),a=n[h(0,e+1)];n.splice(a,1);var i=n[h(0,e)];return n.splice(i,1),[Object(l.a)(t[a]),Object(l.a)(t[i])]}(d),a=Object(c.a)(n,2),o=a[0],m=a[1],j=o[0][0],g=s.findIndex((function(t){return t.demand===j.demand&&t.id!==j.id}));if(~g){var x=s[g],y=o.findIndex((function(t){return p(t,x)})),w=m.findIndex((function(t){return p(t,x)})),z=m.findIndex((function(t){return p(t,j)})),S=o[y].findIndex((function(t){return t.id===x.id}));o[0][0]=x,o[y][S]=j;var M=m[w].findIndex((function(t){return t.id===x.id})),k=m[z].findIndex((function(t){return t.id===j.id}));m[z][k]=x,m[w][M]=j;var N=v(o),E=v(m),I=i.map((function(t){return v(t)}))[0],C=N===E?m:N<E?o:m;v(C)<I&&(i.splice(i.length-1,1),i.push(C),i.sort(O),r++),d=b(i)}var A=h(0,f.length);if(f[A]%2===0){var B=h(0,d.length),P=d[B],V=v(P),W=P[h(0,P.length)];if(1!==W.length){var K=h(0,W.length),R=Math.abs(K-1),T=W[K],F=W[R];W[K]=F,W[R]=T,V>v(P)&&(u++,0===B&&(i[B]=P)),d=b(i),i.sort(O)}}}));var m=i[0];return{bestStartQuality:o,bestEndQuality:v(m),crossovers:r,mutations:u,bestEndSolution:m}};n(27);var w={textStyle:{fontSize:11,fontWeight:500,fontFamily:"Courier New",color:"white"},withMargin:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"Courier New",color:"white"}},z=Object(r.a)((function(t){return{root:{"& > *":{margin:t.spacing(1),width:"25ch"}}}})),S=function(){var t=z(),e=Object(i.useState)(30),n=Object(c.a)(e,2),d=n[0],o=n[1],r=Object(i.useState)(25e3),l=Object(c.a)(r,2),s=l[0],m=l[1],f=Object(i.useState)(0),h=Object(c.a)(f,2),g=h[0],b=h[1],v=Object(i.useState)(0),O=Object(c.a)(v,2),p=O[0],x=O[1],S=Object(i.useState)(0),M=Object(c.a)(S,2),k=M[0],N=M[1],E=Object(i.useState)(0),I=Object(c.a)(E,2),C=I[0],A=I[1],B=Object(i.useState)(!1),P=Object(c.a)(B,2),V=P[0],W=P[1],K=Object(i.useState)(!1),R=Object(c.a)(K,2),T=R[0],F=R[1],G=Object(i.useState)(!1),J=Object(c.a)(G,2),Q=J[0],q=J[1],L=Object(i.useState)(null),Z=Object(c.a)(L,2),D=Z[0],U=Z[1],H=function(){F(!T)},X=function(){q(!Q)};return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{children:"Zastosowanie algorytmu genetycznego do rozwi\u0105zania CVRP"}),Object(a.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(u.a,{defaultValue:d,onChange:function(t){var e=t.target.value;o(+e)},id:"filled-basic",label:"Rozmiar populacji",variant:"filled"}),Object(a.jsx)(u.a,{defaultValue:s,onChange:function(t){var e=t.target.value;m(+e)},id:"filled-basic",label:"Ilo\u015b\u0107 generacji",variant:"filled"})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("div",{onClick:function(){!V&&+s&&+d&&1!==+d&&(W(!0),setTimeout((function(){var t=y(d,s);W(!1);var e=t.bestStartQuality,n=t.bestEndQuality,a=t.mutations,i=t.crossovers,o=t.bestEndSolution;N(e),A(n),x(a),b(i),U(o),function(t){var e=[];t.forEach((function(t){return t.forEach((function(t){return e.push(t.id)}))}));var n=!t.some((function(t){return!j(t).isValid}));console.log("miast : ".concat(e.length,", ka\u017cde auto maks. 1000 : ").concat(n))}(o)}),100))},id:T&&!V?"shadow":void 0,onMouseEnter:H,onMouseLeave:H,className:V?"startButtonDisabled":"startButtonEnabled",children:"Start"}),Object(a.jsx)("div",{onClick:function(){V||(N(0),A(0),b(0),x(0),U(null))},id:Q&&!V?"shadow":void 0,onMouseEnter:X,onMouseLeave:X,className:V?"resetButtonDisabled":"resetButtonEnabled",children:"Reset"})]}),(V||!!C)&&Object(a.jsxs)("div",{className:"results",children:[Object(a.jsxs)("div",{className:"parameters",children:[Object(a.jsx)("div",{style:w.textStyle,children:"Jako\u015b\u0107 najlepszego rozwi\u0105zania populacji P0 : ".concat(Math.round(k))}),V&&Object(a.jsx)("div",{style:w.withMargin,children:"..."}),!!C&&Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"Courier New",color:"white"},children:"Jako\u015b\u0107 najlepszego rozwi\u0105zania po egzekucji algorytmu : ".concat(Math.round(C))}),!!D&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:w.withMargin,children:"Najlepsze rozwi\u0105zanie :"}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 1 : [".concat(D[0].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j(D[0]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 2 : [".concat(D[1].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j(D[1]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 3 : [".concat(D[2].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j(D[2]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 4 : [".concat(D[3].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j(D[3]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 5 : [".concat(D[4].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j(D[4]).cost)})]})]}),Object(a.jsx)("div",{className:"separator"}),Object(a.jsxs)("div",{className:"generations",children:[Object(a.jsx)("div",{style:w.textStyle,children:"Udanych krzy\u017cowa\u0144 : ".concat(g)}),Object(a.jsx)("div",{style:w.textStyle,children:"Udanych mutacji : ".concat(p)})]})]})]})})};n(42);o.a.render(Object(a.jsx)(S,{}),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.fcab58e3.chunk.js.map