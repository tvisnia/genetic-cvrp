(this["webpackJsonpgenetic-cvrp"]=this["webpackJsonpgenetic-cvrp"]||[]).push([[0],{27:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(0),d=n(6),o=n.n(d),c=n(7),r=n(76),u=n(77),l=n(8),s=[{id:0,latitude:50.062958,longitude:19.938377,demand:0,name:"Krak\xf3w"},{id:1,latitude:53.1276046,longitude:23.0858554,demand:500,name:"Bia\u0142ystok"},{id:2,latitude:49.8121789,longitude:18.9670518,demand:50,name:"Bielsko-Bia\u0142a"},{id:3,latitude:50.1287598,longitude:19.2884881,demand:400,name:"Chrzan\xf3w"},{id:4,latitude:54.3610059,longitude:18.5496047,demand:200,name:"Gda\u0144sk"},{id:5,latitude:54.5038045,longitude:18.3932687,demand:100,name:"Gdynia"},{id:6,latitude:50.3012185,longitude:18.3932687,demand:40,name:"Gliwice"},{id:7,latitude:49.8390228,longitude:20.9450616,demand:200,name:"Gromnik"},{id:8,latitude:50.2136512,longitude:18.9369822,demand:300,name:"Katowice"},{id:9,latitude:50.8540189,longitude:20.5454309,demand:30,name:"Kielce"},{id:10,latitude:49.6896495,longitude:21.7166586,demand:60,name:"Krosno"},{id:11,latitude:49.4154478,longitude:20.898955,demand:50,name:"Krynica"},{id:12,latitude:51.218088,longitude:22.4935597,demand:60,name:"Lublin"},{id:13,latitude:51.7730343,longitude:19.3401699,demand:160,name:"\u0141\xf3d\u017a"},{id:14,latitude:54.0286482,longitude:19.0084415,demand:100,name:"Malbork"},{id:15,latitude:49.4892464,longitude:19.9737208,demand:120,name:"Nowy Targ"},{id:16,latitude:53.7759903,longitude:20.3956593,demand:300,name:"Olsztyn"},{id:17,latitude:52.4004458,longitude:16.7615834,demand:100,name:"Pozna\u0144"},{id:18,latitude:51.4254995,longitude:21.9046281,demand:200,name:"Pu\u0142awy"},{id:19,latitude:51.4150447,longitude:21.0839343,demand:100,name:"Radom"},{id:20,latitude:50.0054089,longitude:21.9184153,demand:60,name:"Rzesz\xf3w"},{id:21,latitude:50.6780941,longitude:21.675572,demand:200,name:"Sandomierz"},{id:22,latitude:53.4296143,longitude:14.4845414,demand:150,name:"Szczecin"},{id:23,latitude:50.3096329,longitude:21.0617624,demand:60,name:"Szczucin"},{id:24,latitude:50.8142546,longitude:15.3965229,demand:50,name:"Szklarska Por\u0119ba"},{id:25,latitude:50.0261227,longitude:20.9068665,demand:70,name:"Tarn\xf3w"},{id:26,latitude:52.232855,longitude:20.9211117,demand:200,name:"Warszawa"},{id:27,latitude:49.9875567,longitude:20.0286001,demand:90,name:"Wieliczka"},{id:28,latitude:51.1269942,longitude:16.8517813,demand:40,name:"Wroc\u0142aw"},{id:29,latitude:49.27587,longitude:19.9036652,demand:200,name:"Zakopane"},{id:30,latitude:50.7213772,longitude:23.2134076,demand:300,name:"Zamo\u015b\u0107"}],m=1e3,j=[2,2,2,1,3,1,3,1,3,1,3,1,3,2,1,3,1,3,1,2,3,1,3,1,3],f=function(e){var t=e.map((function(e){return e.demand})).reduce((function(e,t){return e+t}));return{cost:t,isValid:t<=m}},b=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},g=function(e){return e.reduce((function(t,n,a){var i,d,o,c;return 0===a?(i=s[0],d=n):(d=n,i=e[a-1]),d&&i?t+(o=i,c=d,Math.round(111.196672*Math.sqrt(Math.pow(o.longitude-c.longitude,2)+Math.pow(o.latitude-c.latitude,2)))):t}),0)},h=function(e){return e.slice().map((function(e){return function(e){return e.slice().map((function(e){return function(e){return e.slice()}(e)}))}(e)}))},v=function(e){return e.reduce((function(e,t){return e+g(t)}),0)},O=function(e,t){return v(e)-v(t)},p=function(e,t){return!!~e.findIndex((function(e){return e.id===t.id}))},x=function(e){var t=[[],[],[],[],[]],n=e.slice();t.forEach((function(e){var t=b(1,n.length);e.push(n[t]),n.splice(t,1)}));for(var a=function(){var e=b(1,n.length),a=n[e].demand,i=t.findIndex((function(e){return f(e).cost+a<=m}));~i&&(t[i].push(n[e]),n.splice(e,1))};n.length>1;)a();return t},y=function(e,t){var n,a,i=(n=e,a=s,Object(l.a)(Array(n)).map((function(){return x(a)})));i.sort(O);var d=h(i),o=v(i[0]),r=0,u=0;Object(l.a)(Array(t)).forEach((function(e,t){var n=function(e){var t=e.slice(0,Math.round(e.length/2)).length-1,n=Object(l.a)(Array(t+1)).map((function(e,t){return t})),a=n[b(0,t+1)];n.splice(a,1);var i=n[b(0,t)];return n.splice(i,1),[Object(l.a)(e[a]),Object(l.a)(e[i])]}(d),a=Object(c.a)(n,2),o=a[0],m=a[1],f=o[0][0],g=s.findIndex((function(e){return e.demand===f.demand&&e.id!==f.id}));if(~g){var x=s[g],y=o.findIndex((function(e){return p(e,x)})),w=m.findIndex((function(e){return p(e,x)})),z=m.findIndex((function(e){return p(e,f)})),S=o[y].findIndex((function(e){return e.id===x.id}));o[0][0]=x,o[y][S]=f;var k=m[w].findIndex((function(e){return e.id===x.id})),M=m[z].findIndex((function(e){return e.id===f.id}));m[z][M]=x,m[w][k]=f;var N=v(o),C=v(m),E=i.map((function(e){return v(e)}))[0],I=N===C?m:N<C?o:m;v(I)<E&&(i.splice(i.length-1,1),i.push(I),i.sort(O),r++),d=h(i)}var A=b(0,j.length);if(j[A]%2===0){var B=b(0,d.length),W=d[B],K=v(W),P=W[b(0,W.length)],R=b(0,P.length),T=Math.abs(R-1),V=P[R],F=P[T];P[R]=F,P[T]=V,K>v(W)&&(u++,0===B&&(i[B]=W)),d=h(i),i.sort(O)}}));var m=i[0];return{bestStartQuality:o,bestEndQuality:v(m),crossovers:r,mutations:u,bestEndSolution:m}};n(27);var w={textStyle:{fontSize:11,fontWeight:500,fontFamily:"Courier New",color:"white"},withMargin:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"Courier New",color:"white"}},z=Object(r.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}}}})),S=function(){var e=z(),t=Object(i.useState)(30),n=Object(c.a)(t,2),d=n[0],o=n[1],r=Object(i.useState)(25e3),l=Object(c.a)(r,2),s=l[0],m=l[1],j=Object(i.useState)(0),b=Object(c.a)(j,2),g=b[0],h=b[1],v=Object(i.useState)(0),O=Object(c.a)(v,2),p=O[0],x=O[1],S=Object(i.useState)(0),k=Object(c.a)(S,2),M=k[0],N=k[1],C=Object(i.useState)(0),E=Object(c.a)(C,2),I=E[0],A=E[1],B=Object(i.useState)(!1),W=Object(c.a)(B,2),K=W[0],P=W[1],R=Object(i.useState)(!1),T=Object(c.a)(R,2),V=T[0],F=T[1],G=Object(i.useState)(!1),J=Object(c.a)(G,2),Q=J[0],L=J[1],Z=Object(i.useState)(null),q=Object(c.a)(Z,2),D=q[0],U=q[1],H=function(){F(!V)},X=function(){L(!Q)};return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{children:"Zastosowanie algorytmu genetycznego do rozwi\u0105zania CVRP"}),Object(a.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(u.a,{defaultValue:d,onChange:function(e){var t=e.target.value;o(+t)},id:"filled-basic",label:"Rozmiar populacji",variant:"filled"}),Object(a.jsx)(u.a,{defaultValue:s,onChange:function(e){var t=e.target.value;m(+t)},id:"filled-basic",label:"Ilo\u015b\u0107 generacji",variant:"filled"})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("div",{onClick:function(){!K&&+s&&+d&&1!==+d&&(P(!0),setTimeout((function(){var e=y(d,s);P(!1);var t=e.bestStartQuality,n=e.bestEndQuality,a=e.mutations,i=e.crossovers,o=e.bestEndSolution;N(t),A(n),x(a),h(i),U(o)}),100))},id:V&&!K?"shadow":void 0,onMouseEnter:H,onMouseLeave:H,className:K?"startButtonDisabled":"startButtonEnabled",children:"Start"}),Object(a.jsx)("div",{onClick:function(){K||(N(0),A(0),h(0),x(0),U(null))},id:Q&&!K?"shadow":void 0,onMouseEnter:X,onMouseLeave:X,className:K?"resetButtonDisabled":"resetButtonEnabled",children:"Reset"})]}),(K||!!I)&&Object(a.jsxs)("div",{className:"results",children:[Object(a.jsxs)("div",{className:"parameters",children:[Object(a.jsx)("div",{style:w.textStyle,children:"Jako\u015b\u0107 najlepszego rozwi\u0105zania populacji P0 : ".concat(M)}),K&&Object(a.jsx)("div",{style:w.withMargin,children:"..."}),!!I&&Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"Courier New",color:"white"},children:"Jako\u015b\u0107 najlepszego rozwi\u0105zania po egzekucji algorytmu : ".concat(I)}),!!D&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:w.withMargin,children:"Najlepsze rozwi\u0105zanie :"}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 1 : [".concat(D[0].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(f(D[0]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 2 : [".concat(D[1].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(f(D[1]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 3 : [".concat(D[2].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(f(D[2]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 4 : [".concat(D[3].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(f(D[3]).cost)}),Object(a.jsx)("div",{style:w.textStyle,children:"* Auto nr 5 : [".concat(D[4].map((function(e){return" ".concat(e.name," ")})),"], zapakowano: ").concat(f(D[4]).cost)})]})]}),Object(a.jsx)("div",{className:"separator"}),Object(a.jsxs)("div",{className:"generations",children:[Object(a.jsx)("div",{style:w.textStyle,children:"Udanych krzy\u017cowa\u0144 : ".concat(g)}),Object(a.jsx)("div",{style:w.textStyle,children:"Udanych mutacji : ".concat(p)})]})]})]})})};n(42);o.a.render(Object(a.jsx)(S,{}),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.1af962c4.chunk.js.map