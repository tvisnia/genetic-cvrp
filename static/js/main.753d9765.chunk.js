(this["webpackJsonpgenetic-cvrp"]=this["webpackJsonpgenetic-cvrp"]||[]).push([[0],{27:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var a=n(3),i=n(0),o=n(6),c=n.n(o),d=n(7),r=n(73),u=n(77),l=(n(27),n(8)),s=[{id:0,latitude:50.062958,longitude:19.938377,demand:0,name:"Krak\xf3w"},{id:1,latitude:53.1276046,longitude:23.0858554,demand:500,name:"Bia\u0142ystok"},{id:2,latitude:49.8121789,longitude:18.9670518,demand:50,name:"Bielsko-Bia\u0142a"},{id:3,latitude:50.1287598,longitude:19.2884881,demand:400,name:"Chrzan\xf3w"},{id:4,latitude:54.3610059,longitude:18.5496047,demand:200,name:"Gda\u0144sk"},{id:5,latitude:54.5038045,longitude:18.3932687,demand:100,name:"Gdynia"},{id:6,latitude:50.3012185,longitude:18.3932687,demand:40,name:"Gliwice"},{id:7,latitude:49.8390228,longitude:20.9450616,demand:200,name:"Gromnik"},{id:8,latitude:50.2136512,longitude:18.9369822,demand:300,name:"Katowice"},{id:9,latitude:50.8540189,longitude:20.5454309,demand:30,name:"Kielce"},{id:10,latitude:49.6896495,longitude:21.7166586,demand:60,name:"Krosno"},{id:11,latitude:49.4154478,longitude:20.898955,demand:50,name:"Krynica"},{id:12,latitude:51.218088,longitude:22.4935597,demand:60,name:"Lublin"},{id:13,latitude:51.7730343,longitude:19.3401699,demand:160,name:"\u0141\xf3d\u017a"},{id:14,latitude:54.0286482,longitude:19.0084415,demand:100,name:"Malbork"},{id:15,latitude:49.4892464,longitude:19.9737208,demand:120,name:"Nowy Targ"},{id:16,latitude:53.7759903,longitude:20.3956593,demand:300,name:"Olsztyn"},{id:17,latitude:52.4004458,longitude:16.7615834,demand:100,name:"Pozna\u0144"},{id:18,latitude:51.4254995,longitude:21.9046281,demand:200,name:"Pu\u0142awy"},{id:19,latitude:51.4150447,longitude:21.0839343,demand:100,name:"Radom"},{id:20,latitude:50.0054089,longitude:21.9184153,demand:60,name:"Rzesz\xf3w"},{id:21,latitude:50.6780941,longitude:21.675572,demand:200,name:"Sandomierz"},{id:22,latitude:53.4296143,longitude:14.4845414,demand:150,name:"Szczecin"},{id:23,latitude:50.3096329,longitude:21.0617624,demand:60,name:"Szczucin"},{id:24,latitude:50.8142546,longitude:15.3965229,demand:50,name:"Szklarska Por\u0119ba"},{id:25,latitude:50.0261227,longitude:20.9068665,demand:70,name:"Tarn\xf3w"},{id:26,latitude:52.232855,longitude:20.9211117,demand:200,name:"Warszawa"},{id:27,latitude:49.9875567,longitude:20.0286001,demand:90,name:"Wieliczka"},{id:28,latitude:51.1269942,longitude:16.8517813,demand:40,name:"Wroc\u0142aw"},{id:29,latitude:49.27587,longitude:19.9036652,demand:200,name:"Zakopane"},{id:30,latitude:50.7213772,longitude:23.2134076,demand:300,name:"Zamo\u015b\u0107"}],m=1e3,f=[2,2,2,1,3,1,3,1,3,1,3,1,3,2,1,3,1,3,1,2,3,1,3,1,3],j=function(t){var e=t.map((function(t){return t.demand})).reduce((function(t,e){return t+e}));return{cost:e,isValid:e<=m}},h=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},g=function(t){return t.reduce((function(e,n,a){var i,o,c,d;return 0===a?(i=s[0],o=n):(o=n,i=t[a-1]),o&&i?e+(c=i,d=o,Math.round(111.196672*Math.sqrt(Math.pow(c.longitude-d.longitude,2)+Math.pow(c.latitude-d.latitude,2)))):e}),0)},b=function(t){return t.slice().map((function(t){return function(t){return Object.assign({},t)}(t)}))},O=function(t){return t.slice().map((function(t){return function(t){return t.slice().map((function(t){return b(t)}))}(t)}))},p=function(t){return t.reduce((function(t,e){return t+g(e)}),0)},v=function(t,e){return!!~t.findIndex((function(t){return t.id===e.id}))},y=function(t){var e=[[],[],[],[],[]],n=t.slice();e.forEach((function(t){var e=h(1,n.length);t.push(n[e]),n.splice(e,1)}));for(var a=function(){var t=h(1,n.length),a=n[t].demand,i=e.findIndex((function(t){return j(t).cost+a<=m}));~i&&(e[i].push(n[t]),n.splice(t,1))};n.length>1;)a();return e},z=function(t,e){var n,a,i=(n=t,a=s,Object(l.a)(Array(n)).map((function(){return y(a)})));i.sort((function(t,e){return p(t)-p(e)}));var o=O(i),c=p(i[0]),r=0,u=0;return console.log("Start: ".concat(i.map((function(t){return p(t)})))),Object(l.a)(Array(e)).forEach((function(t,e){(e+1)%1e4===0&&console.log("Powsta\u0142ych generacji: ".concat(e+1));var n=function(t){var e=t.length-1,n=Object(l.a)(Array(e+1)).map((function(t,e){return e})),a=n[h(0,e+1)];n.splice(a,1);var i=n[h(0,e)];return n.splice(i,1),[Object(l.a)(t[a]),Object(l.a)(t[i])]}(o),a=Object(d.a)(n,2),c=a[0],m=a[1],j=c[0][0],g=s.findIndex((function(t){return t.demand===j.demand&&t.id!==j.id}));if(~g){var b=s[g],y=c.findIndex((function(t){return v(t,b)})),z=m.findIndex((function(t){return v(t,b)})),w=m.findIndex((function(t){return v(t,j)})),x=c[y].findIndex((function(t){return t.id===b.id}));c[0][0]=b,c[y][x]=j;var S=m[z].findIndex((function(t){return t.id===b.id})),k=m[w].findIndex((function(t){return t.id===j.id}));m[w][k]=b,m[z][S]=j;var M=p(c),W=p(m),N=i.map((function(t){return p(t)}))[0],F=M===W?m:M<W?c:m;p(F)<N&&(i.splice(i.length-1,1),i.push(F),i.sort((function(t,e){return p(t)-p(e)})),r++,console.log("najlepsza jako\u015b\u0107 dotychczas: ".concat(i.map((function(t){return p(t)}))[0]))),o=O(i)}var I=h(0,f.length);if(f[I]%2===0){var A=h(0,o.length),E=o[A],B=p(E),C=E[h(0,E.length)],P=h(0,C.length),T=Math.abs(P-1),K=C[P],R=C[T];C[P]=R,C[T]=K,B>p(E)&&(u++,0===A&&(i[A]=E)),o=O(i),i.sort((function(t,e){return p(t)-p(e)}))}})),{bestStartQuality:c,bestEndQuality:p(i[0]),crossovers:r,mutations:u,solution:i[0]}},w=Object(r.a)((function(t){return{root:{"& > *":{margin:t.spacing(1),width:"25ch"}}}}));var x=function(){var t=w(),e=Object(i.useState)(50),n=Object(d.a)(e,2),o=n[0],c=n[1],r=Object(i.useState)(100),l=Object(d.a)(r,2),s=l[0],m=l[1],f=Object(i.useState)(0),h=Object(d.a)(f,2),g=h[0],b=h[1],O=Object(i.useState)(0),p=Object(d.a)(O,2),v=p[0],y=p[1],x=Object(i.useState)(0),S=Object(d.a)(x,2),k=S[0],M=S[1],W=Object(i.useState)(0),N=Object(d.a)(W,2),F=N[0],I=N[1],A=Object(i.useState)(0),E=Object(d.a)(A,2),B=(E[0],E[1]),C=Object(i.useState)(0),P=Object(d.a)(C,2),T=(P[0],P[1]),K=Object(i.useState)(!1),R=Object(d.a)(K,2),V=R[0],G=R[1],Q=Object(i.useState)(!1),J=Object(d.a)(Q,2),L=J[0],Z=J[1],q=Object(i.useState)(!1),D=Object(d.a)(q,2),U=D[0],H=D[1],X=Object(i.useState)(null),Y=Object(d.a)(X,2),$=Y[0],_=Y[1],tt=function(){Z(!L)},et=function(){H(!U)};return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h2",{children:"Zastosowanie algorytmu genetycznego do rozwi\u0105zania CVRP"}),Object(a.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(u.a,{defaultValue:o,onChange:function(t){var e=t.target.value;c(+e)},id:"filled-basic",label:"Rozmiar populacji",variant:"filled"}),Object(a.jsx)(u.a,{defaultValue:s,onChange:function(t){var e=t.target.value;m(+e)},id:"filled-basic",label:"Ilo\u015b\u0107 generacji",variant:"filled"})]}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("div",{onClick:function(){!V&&+s&&+o&&(G(!0),setTimeout((function(){var t=z(o,s);G(!1);var e=t.bestStartQuality,n=t.bestEndQuality,a=t.mutations,i=t.crossovers,c=t.solution;M(e),I(n),y(a),b(i),_(c)}),100))},id:L&&!V?"shadow":void 0,onMouseEnter:tt,onMouseLeave:tt,className:V?"startButtonDisabled":"startButtonEnabled",children:"Start"}),Object(a.jsx)("div",{onClick:function(){V||(M(0),B(0),I(0),T(0),b(0),y(0),_(null))},id:U&&!V?"shadow":void 0,onMouseEnter:et,onMouseLeave:et,className:V?"resetButtonDisabled":"resetButtonEnabled",children:"Reset"})]}),(V||!!F)&&Object(a.jsxs)("div",{className:"results",children:[Object(a.jsxs)("div",{className:"parameters",children:[Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Jako\u015b\u0107 najlepszego rozwi\u0105zania populacji P0: ".concat(k)}),V&&Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"..."}),!!F&&Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Najlepsza jako\u015b\u0107 po wykonaniu algorytmu :".concat(F)}),!!$&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{marginTop:10,fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Najlepsze rozwi\u0105zanie :"}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 1 : [".concat($[0].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j($[0]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 2 : [".concat($[1].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j($[1]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 3 : [".concat($[2].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j($[2]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 4 : [".concat($[3].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j($[3]).cost)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"* Auto nr 5 : [".concat($[4].map((function(t){return" ".concat(t.name," ")})),"], zapakowano: ").concat(j($[4]).cost)})]})]}),Object(a.jsx)("div",{className:"separator"}),Object(a.jsxs)("div",{className:"generations",children:[Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Udanych krzy\u017cowa\u0144: ".concat(g)}),Object(a.jsx)("div",{style:{fontSize:11,fontWeight:500,fontFamily:"courier",color:"white"},children:"Udanych mutacji: ".concat(v)})]})]})]})})};n(42);c.a.render(Object(a.jsx)(x,{}),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.753d9765.chunk.js.map